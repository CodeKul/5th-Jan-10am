<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      function display(callback) {
        callback();
      }

      display(add);

      function add() {
        let a = 10;
        let b = 20;
        console.log(a + b);
      }
      //    synchronous and asynchronous
      //   1. send register request
      //   2. display home page
      //   3. send login request
      //   4. accept login request and allow permission
      //   5. display user data

      // callback hell
      // deep nested structure of callbacks is a callback hell

      //  sum(1)(2)(3) = 5  currying example - closures

      // https://www.youtube.com/watch?v=oU3LzOO0OGA

      // setTimeout(()=>{

      // },5000)

      function register(callback) {
        setTimeout(() => {
          console.log("Send register Request");
          callback();
        }, 3000);
      }

      function home(callback2) {
        setTimeout(() => {
          console.log("Home Page");
          callback2();
        }, 1500);
      }

      function loginRequest(callback3) {
        setTimeout(() => {
          console.log("Send login Request");
          callback3();
        }, 5000);
      }

      function acceptLogin(callback4) {
        setTimeout(() => {
          console.log("Accept Login request");
          callback4();
        }, 6000);
      }

      function displayUserData() {
        setTimeout(() => {
          console.log("Display User Data");
        }, 2000);
      }

      register(function () {
        home(function () {
          loginRequest(function () {
            acceptLogin(function () {
              displayUserData();
            });
          });
        });
      });

      // function sum(a) {
      //   return function (b) {
      //     return function (c) {
      //       console.log(a + b + c);
      //       return a + b + c;
      //     };
      //   };
      // }

      // sum(1)(2)(3);

      // function register(callback) {
      //   setTimeout(() => {
      //     console.log("User Registered");
      //     callback();
      //   }, 5000);
      // }

      // function home(callback2) {
      //   setTimeout(() => {
      //     console.log("Home Page");
      //     callback2();
      //   }, 5000);
      // }

      // function loginRequest(cb) {
      //   setTimeout(() => {
      //     console.log("Login request send");
      //     cb();
      //   }, 2000);
      // }

      // function loginAccepted(cb2) {
      //   setTimeout(() => {
      //     console.log("Login request accepted and permission given");
      //     cb2();
      //   }, 3000);
      // }

      // function userData() {
      //   setTimeout(() => {
      //     console.log("User data");
      //   }, 1500);
      // }

      //       setTimeout(()=>{
      // console.log("Hii")
      //       }, 5000)

      //   register();
      //   home();
      //   loginRequest();
      //   loginAccepted();
      //   userData();

      // register(function () {
      //   home(function () {
      //     loginRequest(function () {
      //       loginAccepted(function () {
      //         userData();
      //       });
      //     });
      //   });
      // });
    </script>
  </body>
</html>
